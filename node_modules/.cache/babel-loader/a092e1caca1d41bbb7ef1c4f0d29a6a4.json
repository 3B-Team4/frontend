{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luke\\\\Documents\\\\Projects\\\\SES3A\\\\Frontend\\\\src\\\\Authentication\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport { withRouter } from \"react-router-dom\"; // import { Button, Header, Grid, Form, Dropdown } from \"semantic-ui-react\";\n\nimport axios from \"axios\";\nimport firebase from \"firebase\"; // import \"./login.scss\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loginSuccessful: Boolean,\n      loginMessage: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.RedirectToRegister = this.RedirectToRegister.bind(this);\n  }\n\n  RedirectToRegister() {\n    this.props.history.push(\"/Register\");\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  emptyFields() {\n    return this.state.email === \"\" || this.state.password === \"\";\n  }\n\n  handleLogin() {\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(userCredential => {\n      // Signed in\n      var user = userCredential.user; // ...\n    }).catch(error => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n    }); // axios\n    //   .post(\"/login\", {\n    //     email: this.state.email,\n    //     password: this.state.password\n    //   })\n    //   .then(\n    //     (res) => {\n    //       Cookies.set(\"auth-cookie\", res.data.access_token);\n    //       this.props.history.push(\"/Dashboard\");\n    //     },\n    //     (error) => {\n    //       this.setState({ loginMessage: error.response.data.msg ,loginSuccessful: false });\n    //     }\n    //   );\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"email\",\n            name: \"email\",\n            value: this.state.email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"password\",\n            name: \"password\",\n            value: this.state.password,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: this.submitButton,\n        onClick: this.handleLogin,\n        disabled: this.emptyFields(),\n        class: \"button is-primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), this.state.loginSuccessful === false && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/luke/Documents/Projects/SES3A/Frontend/src/Authentication/Login.js"],"names":["React","Component","Cookies","withRouter","axios","firebase","Login","constructor","props","state","email","password","loginSuccessful","Boolean","loginMessage","handleChange","bind","handleLogin","RedirectToRegister","history","push","event","setState","target","name","value","emptyFields","auth","signInWithEmailAndPassword","then","userCredential","user","catch","error","errorCode","code","errorMessage","message","render","submitButton"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { Button, Header, Grid, Form, Dropdown } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport firebase from \"firebase\";\r\n\r\n\r\n// import \"./login.scss\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loginSuccessful: Boolean,\r\n      loginMessage: '',\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.RedirectToRegister = this.RedirectToRegister.bind(this);\r\n\r\n  }\r\n\r\n  RedirectToRegister() {\r\n    this.props.history.push(\"/Register\");\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  emptyFields() {\r\n    return (\r\n      this.state.email === \"\" ||\r\n      this.state.password === \"\"\r\n    );\r\n  }\r\n\r\n  handleLogin() {\r\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((userCredential) => {\r\n      // Signed in\r\n      var user = userCredential.user;\r\n      // ...\r\n    })\r\n      .catch((error) => {\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n      })\r\n    // axios\r\n    //   .post(\"/login\", {\r\n    //     email: this.state.email,\r\n    //     password: this.state.password\r\n    //   })\r\n    //   .then(\r\n    //     (res) => {\r\n    //       Cookies.set(\"auth-cookie\", res.data.access_token);\r\n    //       this.props.history.push(\"/Dashboard\");\r\n    //     },\r\n    //     (error) => {\r\n    //       this.setState({ loginMessage: error.response.data.msg ,loginSuccessful: false });\r\n    //     }\r\n    //   );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div align=\"center\">\r\n        <form>\r\n          <label>\r\n            Email:\r\n              <input type=\"text\" placeholder=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} ></input>\r\n          </label>\r\n          <label>\r\n            Password:\r\n              <input type=\"password\" placeholder=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} ></input>\r\n          </label>\r\n        </form>\r\n        <button\r\n          style={this.submitButton}\r\n          onClick={this.handleLogin}\r\n          disabled={this.emptyFields()}\r\n          class=\"button is-primary\"\r\n        >\r\n          Login\r\n          </button>\r\n        {this.state.loginSuccessful === false && (\r\n          <h1>Login failed</h1>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Login);\r\n"]},"metadata":{},"sourceType":"module"}