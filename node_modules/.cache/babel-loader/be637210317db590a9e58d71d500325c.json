{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luke\\\\Documents\\\\Projects\\\\SES3A\\\\Frontend\\\\src\\\\Authentication\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { auth } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onRadioChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        userType: parseInt(e.target.value)\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      userType: 0,\n      RegistrationSuccessful: Boolean,\n      registrationMessage: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleRegister = this.handleRegister.bind(this);\n    this.onRadioChange = this.onRadioChange.bind(this);\n  }\n\n  componentDidMount() {// const jwt = getToken();\n    // if (jwt) {\n    //   this.props.history.push(\"/Home\");\n    // }\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleRegister() {\n    auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(userCredential => {\n      // Signed in\n      var user = userCredential.user;\n      this.props.history.push(\"/Dashboard\");\n    }).catch(error => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      this.setState({\n        loginMessage: error.response.data.msg,\n        loginSuccessful: false\n      });\n    });\n  }\n\n  emptyFields() {\n    return this.state.name === \"\" || this.state.email === \"\" || this.state.password === \"\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: this.formContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: this.form,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"input\",\n                type: \"text\",\n                placeholder: \"Name\",\n                onChange: this.handleInputChange,\n                name: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"input\",\n              type: \"text\",\n              placeholder: \"Email\",\n              onChange: this.handleInputChange,\n              name: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"field\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"input\",\n              type: \"password\",\n              placeholder: \"Password\",\n              onChange: this.handleInputChange,\n              name: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"radio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                checked: this.state.userType === 0,\n                onChange: this.onRadioChange,\n                value: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), \"Patient\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"radio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                checked: this.state.userType === 1,\n                onChange: this.onRadioChange,\n                value: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), \"Doctor\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: this.submitButton,\n          onClick: this.handleRegister,\n          disabled: this.emptyFields(),\n          class: \"button is-primary\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), this.state.RegistrationSuccessful === false && /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Registration failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Register);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/luke/Documents/Projects/SES3A/Frontend/src/Authentication/Register.js"],"names":["React","Component","withRouter","auth","Register","constructor","props","onRadioChange","e","console","log","target","value","setState","userType","parseInt","state","name","email","password","RegistrationSuccessful","Boolean","registrationMessage","handleInputChange","bind","handleRegister","componentDidMount","event","createUserWithEmailAndPassword","then","userCredential","user","history","push","catch","error","errorCode","code","errorMessage","message","loginMessage","response","data","msg","loginSuccessful","emptyFields","render","formContainer","form","submitButton"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,QAAqB,aAArB;;;AAEA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAC/BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmDnBC,aAnDmB,GAmDFC,CAAD,IAAO;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,QAAQ,EAAEC,QAAQ,CAACP,CAAC,CAACG,MAAF,CAASC,KAAV;AADN,OAAd;AAGD,KAxDkB;;AAGjB,SAAKI,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,QAAQ,EAAE,EAHC;AAIXL,MAAAA,QAAQ,EAAE,CAJC;AAKXM,MAAAA,sBAAsB,EAAEC,OALb;AAMXC,MAAAA,mBAAmB,EAAE;AANV,KAAb;AASA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKjB,aAAL,GAAqB,KAAKA,aAAL,CAAmBiB,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG,CAClB;AACA;AACA;AACA;AACD;;AAEDH,EAAAA,iBAAiB,CAACI,KAAD,EAAQ;AACvB,SAAKd,QAAL,CAAc;AACZ,OAACc,KAAK,CAAChB,MAAN,CAAaM,IAAd,GAAqBU,KAAK,CAAChB,MAAN,CAAaC;AADtB,KAAd;AAGD;;AAEDa,EAAAA,cAAc,GAAG;AACftB,IAAAA,IAAI,GAAGyB,8BAAP,CAAsC,KAAKZ,KAAL,CAAWE,KAAjD,EAAwD,KAAKF,KAAL,CAAWG,QAAnE,EAA6EU,IAA7E,CAAmFC,cAAD,IAAoB;AACpG;AACA,UAAIC,IAAI,GAAGD,cAAc,CAACC,IAA1B;AACA,WAAKzB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD,KAJD,EAKGC,KALH,CAKUC,KAAD,IAAW;AAChB,UAAIC,SAAS,GAAGD,KAAK,CAACE,IAAtB;AACA,UAAIC,YAAY,GAAGH,KAAK,CAACI,OAAzB;AACA,WAAK1B,QAAL,CAAc;AAAE2B,QAAAA,YAAY,EAAEL,KAAK,CAACM,QAAN,CAAeC,IAAf,CAAoBC,GAApC;AAAyCC,QAAAA,eAAe,EAAE;AAA1D,OAAd;AACD,KATH;AAUD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,WACE,KAAK7B,KAAL,CAAWC,IAAX,KAAoB,EAApB,IACA,KAAKD,KAAL,CAAWE,KAAX,KAAqB,EADrB,IAEA,KAAKF,KAAL,CAAWG,QAAX,KAAwB,EAH1B;AAKD;;AASD2B,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,6BACE;AAAK,QAAA,KAAK,EAAE,KAAKC,aAAjB;AAAA,gCACE;AAAK,UAAA,KAAK,EAAE,KAAKC,IAAjB;AAAA,kCACE;AAAK,YAAA,KAAK,EAAC,OAAX;AAAA,mCACE;AAAK,cAAA,KAAK,EAAC,SAAX;AAAA,qCACE;AACE,gBAAA,KAAK,EAAC,OADR;AAEE,gBAAA,IAAI,EAAC,MAFP;AAGE,gBAAA,WAAW,EAAC,MAHd;AAIE,gBAAA,QAAQ,EAAE,KAAKzB,iBAJjB;AAKE,gBAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE;AAAK,YAAA,KAAK,EAAC,OAAX;AAAA,mCACE;AACE,cAAA,KAAK,EAAC,OADR;AAEE,cAAA,IAAI,EAAC,MAFP;AAGE,cAAA,WAAW,EAAC,OAHd;AAIE,cAAA,QAAQ,EAAE,KAAKA,iBAJjB;AAKE,cAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAZF,eAqBE;AAAK,YAAA,KAAK,EAAC,OAAX;AAAA,mCACE;AACE,cAAA,KAAK,EAAC,OADR;AAEE,cAAA,IAAI,EAAC,UAFP;AAGE,cAAA,WAAW,EAAC,UAHd;AAIE,cAAA,QAAQ,EAAE,KAAKA,iBAJjB;AAKE,cAAA,IAAI,EAAC;AALP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBArBF,eA8BE;AAAK,YAAA,KAAK,EAAC,SAAX;AAAA,oCACE;AAAO,cAAA,KAAK,EAAC,OAAb;AAAA,sCACE;AACE,gBAAA,IAAI,EAAC,OADP;AAEE,gBAAA,OAAO,EAAE,KAAKP,KAAL,CAAWF,QAAX,KAAwB,CAFnC;AAGE,gBAAA,QAAQ,EAAE,KAAKP,aAHjB;AAIE,gBAAA,KAAK,EAAC;AAJR;AAAA;AAAA;AAAA;AAAA,sBADF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE;AAAO,cAAA,KAAK,EAAC,OAAb;AAAA,sCACE;AACE,gBAAA,IAAI,EAAC,OADP;AAEE,gBAAA,OAAO,EAAE,KAAKS,KAAL,CAAWF,QAAX,KAAwB,CAFnC;AAGE,gBAAA,QAAQ,EAAE,KAAKP,aAHjB;AAIE,gBAAA,KAAK,EAAC;AAJR;AAAA;AAAA;AAAA;AAAA,sBADF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAoDE;AACE,UAAA,KAAK,EAAE,KAAK0C,YADd;AAEE,UAAA,OAAO,EAAE,KAAKxB,cAFhB;AAGE,UAAA,QAAQ,EAAE,KAAKoB,WAAL,EAHZ;AAIE,UAAA,KAAK,EAAC,mBAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBApDF,EA4DG,KAAK7B,KAAL,CAAWI,sBAAX,KAAsC,KAAtC,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAoED;;AAhI8B;;AAmIjC,oBAAelB,UAAU,CAACE,QAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { auth } from '../firebase';\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      userType: 0,\r\n      RegistrationSuccessful: Boolean,\r\n      registrationMessage: \"\"\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.onRadioChange = this.onRadioChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // const jwt = getToken();\r\n    // if (jwt) {\r\n    //   this.props.history.push(\"/Home\");\r\n    // }\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleRegister() {\r\n    auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then((userCredential) => {\r\n      // Signed in\r\n      var user = userCredential.user;\r\n      this.props.history.push(\"/Dashboard\");\r\n    })\r\n      .catch((error) => {\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        this.setState({ loginMessage: error.response.data.msg ,loginSuccessful: false });\r\n      });\r\n  }\r\n\r\n  emptyFields() {\r\n    return (\r\n      this.state.name === \"\" ||\r\n      this.state.email === \"\" ||\r\n      this.state.password === \"\"\r\n    );\r\n  }\r\n\r\n  onRadioChange = (e) => {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      userType: parseInt(e.target.value),\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div align=\"center\">\r\n        <div style={this.formContainer}>\r\n          <div style={this.form}>\r\n            <div class=\"field\">\r\n              <div class=\"control\">\r\n                <input\r\n                  class=\"input\"\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  onChange={this.handleInputChange}\r\n                  name=\"name\"\r\n                ></input>\r\n              </div>\r\n            </div>\r\n            <div class=\"field\">\r\n              <input\r\n                class=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"Email\"\r\n                onChange={this.handleInputChange}\r\n                name=\"email\"\r\n              ></input>\r\n            </div>\r\n            <div class=\"field\">\r\n              <input\r\n                class=\"input\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                onChange={this.handleInputChange}\r\n                name=\"password\"\r\n              ></input>\r\n            </div>\r\n            <div class=\"control\">\r\n              <label class=\"radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={this.state.userType === 0}\r\n                  onChange={this.onRadioChange}\r\n                  value=\"0\"\r\n                />\r\n                Patient\r\n              </label>\r\n              <label class=\"radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={this.state.userType === 1}\r\n                  onChange={this.onRadioChange}\r\n                  value=\"1\"\r\n                />\r\n                Doctor\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <button\r\n            style={this.submitButton}\r\n            onClick={this.handleRegister}\r\n            disabled={this.emptyFields()}\r\n            class=\"button is-primary\"\r\n          >\r\n            Register\r\n          </button>\r\n          {this.state.RegistrationSuccessful === false && (\r\n            <h1>Registration failed</h1>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Register);\r\n"]},"metadata":{},"sourceType":"module"}