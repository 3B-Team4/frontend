{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luke\\\\Documents\\\\Projects\\\\SES3A\\\\Frontend\\\\src\\\\Views\\\\RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link, Grid, makeStyles, TextField, Typography, Collapse, IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Alert } from \"@material-ui/lab\";\nimport SideLayout from \"../Components/SideLayout\";\nimport SubmitButton from \"../Components/SubmitButton\";\nimport { validateEmail, validateNewPassword } from \"../Common/Utils\";\nimport { auth } from \"../Services/firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    alignSelf: \"flex-start\",\n    marginBottom: theme.spacing(4)\n  },\n  form: {\n    width: \"100%\"\n  },\n  submit: {\n    margin: theme.spacing(4, 0)\n  },\n  link: {\n    fontWeight: theme.typography.fontWeightBold\n  }\n}));\nexport default function RegisterPage() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const backgroundImageUrl = \"/static/login.jpg\";\n  const [errors, setErrors] = React.useState({});\n  const [registerError, setRegisterError] = React.useState(null);\n  const nameRef = React.useRef(\"\");\n  const emailRef = React.useRef(\"\");\n  const passwordRef = React.useRef(\"\");\n  const confirmPasswordRef = React.useRef(\"\");\n\n  const handleSignUpClick = event => {\n    event.preventDefault();\n    history.push(\"/login\");\n  };\n\n  const validateFields = () => {\n    const name = nameRef.current.value;\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    const confirmPassword = confirmPasswordRef.current.value;\n    const newErrors = {};\n\n    if (!name || !name.length) {\n      newErrors.name = \"Empty name.\";\n    }\n\n    if (!validateEmail(email)) {\n      newErrors.email = \"Invalid email address.\";\n    }\n\n    if (!email || !email.length) {\n      newErrors.email = \"Empty email address.\";\n    }\n\n    if (!validateNewPassword(password)) {\n      newErrors.password = \"New passwords must be at least 7 characters in length.\";\n    }\n\n    if (confirmPassword !== password || !confirmPassword || !confirmPassword.length) {\n      newErrors.confirmPassword = \"Passwords do not match.\";\n    }\n\n    setErrors(newErrors);\n  };\n\n  const getValues = () => {\n    const name = nameRef.current.value;\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    const confirmPassword = confirmPasswordRef.current.value;\n    return {\n      name,\n      email,\n      password,\n      confirmPassword\n    };\n  };\n\n  const isValid = () => {\n    const {\n      name,\n      email,\n      password,\n      confirmPassword\n    } = getValues();\n    return Boolean(!errors.name && !errors.email && !errors.password && !errors.confirmPassword && name && email && password && confirmPassword);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = getValues();\n\n    try {\n      await auth().createUserWithEmailAndPassword(email, password);\n      history.replace(\"/dashboard\");\n    } catch (error) {\n      setRegisterError(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(SideLayout, {\n    title: \"Sign In\",\n    imageUrl: backgroundImageUrl,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.heading,\n      color: \"textPrimary\",\n      variant: \"h1\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(Collapse, {\n        in: Boolean(registerError),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          action: /*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"close\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: () => setRegisterError(null),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n              fontSize: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this),\n          severity: \"error\",\n          children: registerError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: nameRef,\n        error: Boolean(errors.name),\n        helperText: errors.name,\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"name\",\n        label: \"Full Name\",\n        name: \"name\",\n        autoComplete: \"name\",\n        onBlur: validateFields,\n        onChange: validateFields,\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: emailRef,\n        error: Boolean(errors.email),\n        helperText: errors.email,\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"email\",\n        label: \"Email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        onBlur: validateFields,\n        onChange: validateFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: passwordRef,\n        error: Boolean(errors.password),\n        helperText: errors.password,\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"password\",\n        label: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        autoComplete: \"new-password\",\n        onBlur: validateFields,\n        onChange: validateFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: confirmPasswordRef,\n        error: Boolean(errors.confirmPassword),\n        helperText: errors.confirmPassword,\n        variant: \"outlined\",\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"confirm-password\",\n        label: \"Confirm Password\",\n        name: \"confirm-password\",\n        type: \"password\",\n        onBlur: validateFields,\n        onChange: validateFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        onClick: handleSubmit,\n        disabled: !isValid(),\n        text: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: [\"Already Have An Account?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n              className: classes.link,\n              href: \"#\",\n              onClick: handleSignUpClick,\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegisterPage, \"7OVrsW39Sw4MUuFOHJa7n3Ii0b0=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"sources":["C:/Users/luke/Documents/Projects/SES3A/Frontend/src/Views/RegisterPage.js"],"names":["React","useHistory","Link","Grid","makeStyles","TextField","Typography","Collapse","IconButton","CloseIcon","Alert","SideLayout","SubmitButton","validateEmail","validateNewPassword","auth","useStyles","theme","heading","alignSelf","marginBottom","spacing","form","width","submit","margin","link","fontWeight","typography","fontWeightBold","RegisterPage","classes","history","backgroundImageUrl","errors","setErrors","useState","registerError","setRegisterError","nameRef","useRef","emailRef","passwordRef","confirmPasswordRef","handleSignUpClick","event","preventDefault","push","validateFields","name","current","value","email","password","confirmPassword","newErrors","length","getValues","isValid","Boolean","handleSubmit","createUserWithEmailAndPassword","replace","error","message"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Link,\r\n  Grid,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n  Collapse,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport SideLayout from \"../Components/SideLayout\";\r\nimport SubmitButton from \"../Components/SubmitButton\";\r\nimport { validateEmail, validateNewPassword } from \"../Common/Utils\";\r\nimport { auth } from \"../Services/firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  heading: {\r\n    alignSelf: \"flex-start\",\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(4, 0),\r\n  },\r\n  link: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n}));\r\n\r\nexport default function RegisterPage() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const backgroundImageUrl = \"/static/login.jpg\";\r\n\r\n  const [errors, setErrors] = React.useState({});\r\n\r\n  const [registerError, setRegisterError] = React.useState(null);\r\n\r\n  const nameRef = React.useRef(\"\");\r\n  const emailRef = React.useRef(\"\");\r\n  const passwordRef = React.useRef(\"\");\r\n  const confirmPasswordRef = React.useRef(\"\");\r\n\r\n  const handleSignUpClick = (event) => {\r\n    event.preventDefault();\r\n\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  const validateFields = () => {\r\n    const name = nameRef.current.value;\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n    const confirmPassword = confirmPasswordRef.current.value;\r\n    const newErrors = {};\r\n\r\n    if (!name || !name.length) {\r\n      newErrors.name = \"Empty name.\";\r\n    }\r\n\r\n    if (!validateEmail(email)) {\r\n      newErrors.email = \"Invalid email address.\";\r\n    }\r\n\r\n    if (!email || !email.length) {\r\n      newErrors.email = \"Empty email address.\";\r\n    }\r\n\r\n    if (!validateNewPassword(password)) {\r\n      newErrors.password =\r\n        \"New passwords must be at least 7 characters in length.\";\r\n    }\r\n\r\n    if (\r\n      confirmPassword !== password ||\r\n      !confirmPassword ||\r\n      !confirmPassword.length\r\n    ) {\r\n      newErrors.confirmPassword = \"Passwords do not match.\";\r\n    }\r\n\r\n    setErrors(newErrors);\r\n  };\r\n\r\n  const getValues = () => {\r\n    const name = nameRef.current.value;\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n    const confirmPassword = confirmPasswordRef.current.value;\r\n\r\n    return { name, email, password, confirmPassword };\r\n  };\r\n\r\n  const isValid = () => {\r\n    const { name, email, password, confirmPassword } = getValues();\r\n    return Boolean(\r\n      !errors.name &&\r\n        !errors.email &&\r\n        !errors.password &&\r\n        !errors.confirmPassword &&\r\n        name &&\r\n        email &&\r\n        password &&\r\n        confirmPassword\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { email, password } = getValues();\r\n\r\n    try {\r\n      await auth().createUserWithEmailAndPassword(email, password);\r\n      history.replace(\"/dashboard\");\r\n    } catch (error) {\r\n      setRegisterError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SideLayout title=\"Sign In\" imageUrl={backgroundImageUrl}>\r\n      <Typography className={classes.heading} color=\"textPrimary\" variant=\"h1\">\r\n        Sign Up\r\n      </Typography>\r\n      <form className={classes.form} noValidate>\r\n        <Collapse in={Boolean(registerError)}>\r\n          <Alert\r\n            action={\r\n              <IconButton\r\n                aria-label=\"close\"\r\n                color=\"inherit\"\r\n                size=\"small\"\r\n                onClick={() => setRegisterError(null)}\r\n              >\r\n                <CloseIcon fontSize=\"inherit\" />\r\n              </IconButton>\r\n            }\r\n            severity=\"error\"\r\n          >\r\n            {registerError}\r\n          </Alert>\r\n        </Collapse>\r\n        <TextField\r\n          inputRef={nameRef}\r\n          error={Boolean(errors.name)}\r\n          helperText={errors.name}\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"name\"\r\n          label=\"Full Name\"\r\n          name=\"name\"\r\n          autoComplete=\"name\"\r\n          onBlur={validateFields}\r\n          onChange={validateFields}\r\n          autoFocus\r\n        />\r\n        <TextField\r\n          inputRef={emailRef}\r\n          error={Boolean(errors.email)}\r\n          helperText={errors.email}\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          autoComplete=\"email\"\r\n          onBlur={validateFields}\r\n          onChange={validateFields}\r\n        />\r\n        <TextField\r\n          inputRef={passwordRef}\r\n          error={Boolean(errors.password)}\r\n          helperText={errors.password}\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"password\"\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n          onBlur={validateFields}\r\n          onChange={validateFields}\r\n        />\r\n        <TextField\r\n          inputRef={confirmPasswordRef}\r\n          error={Boolean(errors.confirmPassword)}\r\n          helperText={errors.confirmPassword}\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"confirm-password\"\r\n          label=\"Confirm Password\"\r\n          name=\"confirm-password\"\r\n          type=\"password\"\r\n          onBlur={validateFields}\r\n          onChange={validateFields}\r\n        />\r\n        <SubmitButton\r\n          onClick={handleSubmit}\r\n          disabled={!isValid()}\r\n          text=\"Continue\"\r\n        />\r\n        <Grid container>\r\n          <Grid item>\r\n            <Typography variant=\"body1\">\r\n              Already Have An Account?{\" \"}\r\n              <Link\r\n                className={classes.link}\r\n                href=\"#\"\r\n                onClick={handleSignUpClick}\r\n              >\r\n                Sign In\r\n              </Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </SideLayout>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}